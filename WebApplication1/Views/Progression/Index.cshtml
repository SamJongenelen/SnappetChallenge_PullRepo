@{
    ViewBag.Title = "Progression Page";
}

@model WebApplication1.Models.Progress

<div>
    <h2>Progression</h2>
    <table id="progressList" class="table table-striped table-bordered table-condensed">
        <thead>
            <tr>
                @*<th></th>
                <th></th>
                <th></th>
                <th></th>*@
                <th>Progresss</th>
                    <th>CorrectAnswerRate</th>
                    <th>NumberOfExercises</th>
                    <th>DifficultyOfExercises</th>
            </tr>
        </thead>

    </table>

</div>


@Scripts.Render("~/bundles/jquery")

<script>

    $(document).ready(function () {
        var uri = 'api/progress';
        //alert(uri);
        //$.getJSON(uri).done(function (data) {

        var table = $('#progressList').DataTable({
            bJQueryUI: true,
            bProcessing: true,

            sAjaxSource: uri,
            aoColumnDefs: [{ 'bSortable': false }],
            columns: [
                { "data": "Progresss" },
                { "data": "CorrectAnswerRate" },
                { "data": "NumberOfExercises" },
                { "data": "DifficultyOfExercises" }
            ]
            //ajax: uri,
            //bSort: false,
            //aoColumns: [ { sWidth: "45%" }, { sWidth: "45%" }, { sWidth: "10%", bSearchable: false, bSortable: false } ],
        });

        //  table.ajax.url(uri).load();

        //$('#progressList').DataTable(
        //    {
        //        ajax: uri
        //    }
        //    )
        //})
    });


    //    .done(function (data) {

    //     {
    //         'ajax': data
    //     });
    //    });



    //function find() {
    //    var id = $('#prodId').val();
    //    $.getJSON(uri)
    //        .done(function (data) {
    //            $('#product').text(formatItem(data));
    //        })
    //        .fail(function (jqXHR, textStatus, err) {
    //            $('#product').text('Error: ' + err);
    //        });

</script>